<div class="grid-view" *ngIf="view === 'grid'">
  <div class="card text-center">
    <div
      class="overflow-hidden d-flex justify-content-center align-items-center"
    >
      <img
        src="../../assets/images/{{ product.productCategory.subCategory }}/{{
          product.id
        }}/1.jpg"
        alt=""
        class="card-img-top"
        OpenProdutsDetails
        [productId]="product.id"
      />
    </div>
    <div class="card-body">
      <h5 class="card-title title">{{ product.title }}</h5>
      <h6 class="card-subtitle my-2 text-primary">
        {{ product.quantity }} products are available.
      </h6>
      <p class="card-text description">
        {{ product.description }}
      </p>
    </div>
    <div class="card-body">
      <h5 class="card-title text-success">
        {{
          utilityService.applyDiscount(product.price, product.offer.discount)
            | currency : "INR"
        }}
        <span class="text-primary fs-6">
          -{{ product.offer.discount }}% off</span
        >
      </h5>
      <h6 class="card-subtitle text-danger text-decoration-line-through">
        {{ product.price | currency : "INR" }}
      </h6>
    </div>
    <div class="card-footer d-grid gap-2">
      <button
        class="btn btn-outline-success"
        type="button"
        [disabled]="!utilityService.isLoggedIn()"
        (click)="this.utilityService.addToCart(product)"
      >
        Add to Cart
        <span *ngIf="!utilityService.isLoggedIn()">(Login First)</span>
      </button>
    </div>
  </div>
</div>

<div class="list-view" *ngIf="view === 'list'">
  <div class="card">
    <div class="row g-0">
      <div
        class="col-md-3 overflow-hidden d-flex justify-content-center align-items-center"
      >
        <img
          src="../../assets/images/{{ product.productCategory.subCategory }}/{{
            product.id
          }}/1.jpg"
          class="img-fluid rounded-start"
          alt="Product Image"
          OpenProdutsDetails
          [productId]="product.id"
        />
      </div>
      <div class="col d-flex flex-column mt-3">
        <div class="card-body">
          <h5 class="card-title title">{{ product.title }}</h5>
          <p class="card-text description">
            {{ product.description }}
          </p>
          <h6 class="card-subtitle mb-3 text-primary">
            {{ product.quantity }} products are available.
          </h6>
        </div>
        <div class="card-body">
          <div class="card-title text-muted">Pricing</div>
          <h2 class="card-title text-success">
            {{
              utilityService.applyDiscount(
                product.price,
                product.offer.discount
              ) | currency : "INR"
            }}
            <span class="text-primary fs-5">
              -{{ product.offer.discount }}% off</span
            >
          </h2>
          <h5 class="card-subtitle text-danger text-decoration-line-through">
            {{ product.price | currency : "INR" }}
          </h5>
        </div>
        <div class="card-footer text-muted d-grid gap-2">
          <button
            class="btn btn-outline-success"
            type="button"
            [disabled]="!utilityService.isLoggedIn()"
            (click)="this.utilityService.addToCart(product)"
          >
            Add to Cart
            <span *ngIf="!utilityService.isLoggedIn()">(Login First)</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="cart-item-view" *ngIf="view === 'currcartitem'">
  <div class="card">
    <div class="row g-0">
      <div
        class="col-4 overflow-hidden d-flex justify-content-center align-items-center"
      >
        <img
          src="../../assets/images/{{ product.productCategory.subCategory }}/{{
            product.id
          }}/1.jpg"
          class="img-fluid rounded-start"
          alt="Product Image"
          OpenProdutsDetails
          [productId]="product.id"
        />
      </div>
      <div class="col-8">
        <div class="card-body">
          <h5 class="card-title title">{{ product.title }}</h5>
          <h5 class="card-title text-success">
            {{
              utilityService.applyDiscount(
                product.price,
                product.offer.discount
              ) | currency : "INR"
            }}
          </h5>
          <h6 class="card-subtitle text-danger text-decoration-line-through">
            {{ product.price | currency : "INR" }}
          </h6>
        </div>
        <div class="card-footer text-muted d-grid gap-2">
          <button
            class="btn btn-outline-danger"
            type="button"
            (click)="utilityService.removeFromCart(product)"
          >
            Remove From Cart
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="cart-item-view" *ngIf="view === 'prevcartitem'">
  <div class="card text-center">
    <div
      class="overflow-hidden d-flex justify-content-center align-items-center"
    >
      <img
        src="../../assets/images/{{ product.productCategory.subCategory }}/{{
          product.id
        }}/1.jpg"
        alt="card-img-top"
        class="card-img-top"
        OpenProdutsDetails
        [productId]="product.id"
      />
    </div>
    <div class="card-body">
      <h5 class="card-title title">{{ product.title }}</h5>
    </div>
  </div>
</div>
